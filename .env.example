# Bitcoin Monitoring Stack configuration
# Copy this file to .env and adjust values as needed.

# --- Bitcoin Core ---
BITCOIN_RPC_HOST=127.0.0.1
BITCOIN_RPC_PORT=8332
BITCOIN_RPC_USER=
BITCOIN_RPC_PASSWORD=
BITCOIN_RPC_COOKIE_PATH=~/.bitcoin/.cookie   # autodetect if local
BITCOIN_NETWORK=mainnet
BITCOIN_DATADIR=~/.bitcoin
BITCOIN_CHAINSTATE_DIR=~/.bitcoin/chainstate

# ZMQ endpoints
BITCOIN_ZMQ_RAWBLOCK=tcp://127.0.0.1:28332
BITCOIN_ZMQ_RAWTX=tcp://127.0.0.1:28333

# Optional Fulcrum/Electrs
FULCRUM_STATS_URL=http://127.0.0.1:8080/stats

# --- InfluxDB ---
INFLUX_URL=http://influxdb:8086
INFLUX_ORG=bitcoin
INFLUX_BUCKET=btc_metrics
INFLUX_RETENTION_DAYS=60
INFLUX_SETUP_USERNAME=admin
INFLUX_SETUP_PASSWORD=admin123
INFLUX_TOKEN=

# --- Grafana ---
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
EXPOSE_UI=0   # 0=localhost only; 1=expose to LAN (see HARDENING.md)
GRAFANA_BIND_IP=127.0.0.1
INFLUX_BIND_IP=127.0.0.1

# --- Feature Flags ---
ENABLE_BLOCK_INTERVALS=1
ENABLE_SOFTFORK_SIGNAL=1
ENABLE_PEER_QUALITY=1
ENABLE_PROCESS_METRICS=1
ENABLE_DISK_IO=1
ENABLE_PEER_CHURN=1
ENABLE_ASN_STATS=1

# Mempool histogram: none | core_rawmempool | mempool_api
MEMPOOL_HIST_SOURCE=none
MEMPOOL_API_BASE=http://127.0.0.1:3006

# Collector polling
SCRAPE_INTERVAL_FAST=5
SCRAPE_INTERVAL_SLOW=30

# GeoIP
GEOIP_ACCOUNT_ID=
GEOIP_LICENSE_KEY=
GEOIP_UPDATE_FREQUENCY_DAYS=7
